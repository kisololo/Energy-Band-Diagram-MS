<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">

<script async src="https://www.googletagmanager.com/gtag/js?id=G-7SJTF762GX"></script>

<script>
// Initialize GA4
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());

// CRITICAL GA4 FIX: Injecting the parent URL into the config.
// This ensures GA4 accepts the hit, bypassing the 'about:srcdoc' rejection.
gtag('config', 'G-7SJTF762GX', {
    'cookie_domain': 'auto',
    'page_location': window.parent.location.href, // <--- THE GA4 FIX
    'debug_mode': true // Keep this ON for DebugView
});

// Report ready to Streamlit
window.parent.postMessage({ type: "streamlit:componentReady" }, "*");
</script>

<style>
html, body {
    margin: 0;
    padding: 0;
    height: 1px !important;
    overflow: hidden;
}
</style>

</head>
<body></body>
</html>
