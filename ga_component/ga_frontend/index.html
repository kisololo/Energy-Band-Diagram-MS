<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<style>
/* Make entire iframe invisible and eliminate flash */
:root, html, body {
    margin: 0;
    padding: 0;
    height: 0 !important;
    overflow: hidden !important;
    background: transparent !important;
}

iframe {
    height: 0 !important;
    width: 0 !important;
    border: none !important;
    background: transparent !important;
}

* {
    -webkit-tap-highlight-color: transparent !important;
}
</style>

<script>
// ------------------------------------------------------------
// 1. Load GA4
// ------------------------------------------------------------
const gtagScript = document.createElement("script");
gtagScript.async = true;
gtagScript.src = "https://www.googletagmanager.com/gtag/js?id=G-7SJTF762GX";
document.head.appendChild(gtagScript);

const gaInit = document.createElement("script");
gaInit.innerHTML = `
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-7SJTF762GX');
`;
document.head.appendChild(gaInit);


// ------------------------------------------------------------
// 2. REQUIRED STREAMLIT HANDSHAKE
//    This removes:
//    - the yellow “component failure” banner
//    - the flashing line
// ------------------------------------------------------------
window.addEventListener("DOMContentLoaded", function () {

    // Tell Streamlit the component iframe is ready
    window.parent.postMessage(
        { isStreamlitMessage: true, type: "componentReady" },
        "*"
    );

    // Force Streamlit to keep iframe height at 0
    window.parent.postMessage(
        { isStreamlitMessage: true, type: "setFrameHeight", height: 0 },
        "*"
    );

    // Inform your Streamlit app GA is loaded
    window.parent.postMessage(
        { type: "GA4_LOADED" },
        "*"
    );
});
</script>

</head>
<body></body>
</html>
